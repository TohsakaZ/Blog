# BOOK RISV 

## Operating system interfaces

### 进程和内存空间

主要涉及fork和exec系统接口的操作

### IO和文件描述符

主要涉及对文件描述符的理解，以及open，read，write系统接口的基本使用

### Pipes管道

主要涉及管道的理解，以及pipe系统接口的基本使用，以及基于pipe实现shell中管道的基本方法

### 文件系统

理解文件，文件夹的实现本质。不论是文件和文件夹，他们都是数据集（只是解释方法不同）。因此本质上更关键的是其背后的实现，即每一个数据集（可能是文件、文件夹、或者是设备）都有一个inode条目，（也就是fstat数据结构）。该条目包含了文件类型、inode、引用数、在磁盘的位置、长度等等。

因此打开一个文件和一个文件夹本质最终都是需要通过inode来获取对应磁盘上的数据集内容。

因此文件名本身是一个条目存储在其所在文件夹中，而该条目包含了对inode的引用，方便索引到具体的inode条目。另外，打开的文件描述符也是作为一个对inode某个条目的引用，只不过相较于文件夹的条目，文件描述符条目还需要记录当前文件指针的偏移数。

实现一个匿名文件（匿名inode条目）的方法，创建一个文件，同时取消文件名对该inode条目的引用。这样，就可以保证进程结束时自动把清空磁盘数据。

