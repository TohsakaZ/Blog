---
title: 最小二乘理解
p: GNSS/LSQ.md
date: 2020-12-01 23:13:16
tags:
---


### 一些关于最小二乘想法的记录

<!--more-->

* 处理非线性问题的情况
  * 使用迭代最小二乘处理
  * 但本质上GNSS构建方程并没有使用迭代最小二乘处理（定位不迭代 定轨迭代 相当于是整体迭代）

* 但是如果针对每个历元求解出最优解后，重新处理目前新数据+旧数据 （
  * （计算量大啊）
  * 如何处理动态参数（直接保存？）
  * 如果采用消参，就认为那个时刻线性误差为0？
  * 但是如何理解这个时候两类参数的线性化的更新关系（其实后续只更新了之前保留参数的线性化误差，而且是有线性化误差的参数，消除参数和这边GNSS的消参作用是类似的）
  * 那就不更新？当成线性化误差很小的参数不就行了？（因为定位本身就是做一次结果得到精确的结果，说明线性化误差很小？）
  这里差异点在于是否随着历元前进的，不断迭代更新迭代误差，这个和处理全部数据后再迭代的区别？
  以及随历元前进迭代本质也是在更新之前没被消去参数的非线性化误差？

### 总结
* 个人理解
  * GNSS方程参数的线性化误差主要集中在位置参数XYZ上，然而这部分的线性误差主要通过SPP的方式消除了，而PPP采用SPP得到的坐标作为初值，因此其线性化误差很小了
  * 另外动态解中，同样的新历元采用SPP得到的XYZ作为初值，如果说更新了除XYZ外的参数初值，可以消除其他参数的线性化的情况，那也比较不可能，大部分参数都是线性系数，改善初值对线性化误差毫无帮组，TRP参数倒是具有一定的非线性，然而其非线性话程度取决于位置，而之前的测站坐标参数又已经消除，因此这个历元的TRP线性误差仅来源于坐标参数，因此更新GNSS参数初值改善线性化误差这一做法基本没有什么太大的益处？ 

LSQ的相关推导

二维直线拟合
$$
v = (x,1)(k,b)^T-y \\
(k,b)^T = (B^TB)^{-1}B^TL
$$
三维直线拟合
$$
z = ax +by +c \\
v = (x,y,1)(a,b,c)^T-z
$$


### 疑问

* 法方程矩阵分解为观测矩阵然后重新更新这个操作？？？？
* 图优化到底是指什么优化操作？和迭代最小二乘的区别？？
* 理解非线性下最小二乘所对应的优化理论问题
* CERES？?

